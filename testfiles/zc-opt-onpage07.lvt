\documentclass{article}

\input{regression-test}

\usepackage{zref-check}

\begin{document}

\START

\begin{figure}[h]
  \centering
  \caption{Figure 1}
  \zlabel{fig:figure-1}
  \rule{5cm}{5cm}
\end{figure}

\zcheck[above, onpage=labelseq]{fig:figure-1}{this check should pass} and
issue no warning.

\OMIT
\clearpage{}
\TIMO

\begin{figure}[h]
  \centering
  \caption{Figure 2}
  \zlabel{fig:figure-2}
  \rule{5cm}{5cm}
\end{figure}

\zcheck[above, onpage=msg]{fig:figure-2}{this check should pass} but issue a
`double-check' warning.

\OMIT
\clearpage{}
\TIMO

\begin{figure}[h]
  \centering
  \caption{Figure 3}
  \zlabel{fig:figure-3}
  \rule{5cm}{5cm}
\end{figure}

\zcheck[above, onpage=labelseqifdraft]{fig:figure-3}{this check should pass} but
issue a `double-check' warning.

\OMIT
\clearpage{}
\TIMO

\begin{figure}[h]
  \centering
  \caption{Figure 4}
  \zlabel{fig:figure-4}
  \rule{5cm}{5cm}
\end{figure}

\zcheck[above, onpage=msgiffinal]{fig:figure-4}{this check should pass} and
issue no warning.

\OMIT
\clearpage{}
\TIMO

\begin{figure}[h]
  \centering
  \caption{Figure 5}
  \zlabel{fig:figure-5}
  \rule{5cm}{5cm}
\end{figure}

% deprecated option value
\zcheck[above, onpage=obeydraft]{fig:figure-5}{this check should pass} but
issue a `double-check' warning.

\OMIT
\clearpage{}
\TIMO

\begin{figure}[h]
  \centering
  \caption{Figure 6}
  \zlabel{fig:figure-6}
  \rule{5cm}{5cm}
\end{figure}

% deprecated option value
\zcheck[above, onpage=obeyfinal]{fig:figure-6}{this check should pass} and
issue no warning.

\OMIT

\end{document}
